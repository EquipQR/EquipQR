var He=Object.defineProperty;var me=n=>{throw TypeError(n)};var Ze=(n,t,e)=>t in n?He(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var d=(n,t,e)=>Ze(n,typeof t!="symbol"?t+"":t,e),Yt=(n,t,e)=>t.has(n)||me("Cannot "+e);var i=(n,t,e)=>(Yt(n,t,"read from private field"),e?e.call(n):t.get(n)),u=(n,t,e)=>t.has(n)?me("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),l=(n,t,e,r)=>(Yt(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),v=(n,t,e)=>(Yt(n,t,"access private method"),e);import"./CWj6FrbW.js";import{h as ve,b as Xe,a9 as ze,aW as Ye,ah as Je,j as Qe,v as $e,k as tn,e as en,Z as nn,aL as ut,a6 as L,g as A,z as ae,a8 as rn,u as Xt,av as sn,p as X,f as C,a as z,n as Y,aX as on,aU as an}from"./Cz8b3aZ3.js";import{c as O,a as I}from"./C2w1fM-E.js";import{s as J}from"./DKxS7cW-.js";import{i as Ee}from"./BddMa5fM.js";import{w as N,C as zt,b as m,u as at,D as un}from"./CRTrzSdk.js";import{p as T}from"./CiHTc1pK.js";import{m as cn,u as ln}from"./BJQCchKY.js";import{C as fn,n as w,g as hn,e as dn}from"./CivI460a.js";import{p as y}from"./CgaBgbAm.js";function mn(n,t,e){ve&&Xe();var r=n,s=nn,a,o=ze()?Ye:Je;Qe(()=>{o(s,s=t())&&(a&&$e(a),a=tn(()=>e(r)))}),ve&&(r=en)}var Q;class vn{constructor(t,e){u(this,Q,ut(void 0));e!==void 0&&L(i(this,Q),e,!0),N(()=>t(),(r,s)=>{L(i(this,Q),s,!0)})}get current(){return A(i(this,Q))}}Q=new WeakMap;function Tt(n){ae(()=>()=>{n()})}function Te(n,t){return setTimeout(t,n)}function ue(n){rn().then(n)}const bn=1,pn=9,gn=11;function Jt(n){return zt(n)&&n.nodeType===bn&&typeof n.nodeName=="string"}function Ae(n){return zt(n)&&n.nodeType===pn}function yn(n){var t;return zt(n)&&((t=n.constructor)==null?void 0:t.name)==="VisualViewport"}function wn(n){return zt(n)&&n.nodeType!==void 0}function Ne(n){return wn(n)&&n.nodeType===gn&&"host"in n}function Sn(n,t){var r;if(!n||!t||!Jt(n)||!Jt(t))return!1;const e=(r=t.getRootNode)==null?void 0:r.call(t);if(n===t||n.contains(t))return!0;if(e&&Ne(e)){let s=t;for(;s;){if(n===s)return!0;s=s.parentNode||s.host}}return!1}function En(n){return Ae(n)?n:yn(n)?n.document:(n==null?void 0:n.ownerDocument)??document}function Tn(n){var t;return Ne(n)?Tn(n.host):Ae(n)?n.defaultView??window:Jt(n)?((t=n.ownerDocument)==null?void 0:t.defaultView)??window:window}function An(n){let t=n.activeElement;for(;t!=null&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var ct;class Ce{constructor(t){d(this,"element");u(this,ct,Xt(()=>this.element.current?this.element.current.getRootNode()??document:document));d(this,"getDocument",()=>En(this.root));d(this,"getWindow",()=>this.getDocument().defaultView??window);d(this,"getActiveElement",()=>An(this.root));d(this,"isActiveElement",t=>t===this.getActiveElement());d(this,"querySelector",t=>this.root?this.root.querySelector(t):null);d(this,"querySelectorAll",t=>this.root?this.root.querySelectorAll(t):[]);d(this,"setTimeout",(t,e)=>this.getWindow().setTimeout(t,e));d(this,"clearTimeout",t=>this.getWindow().clearTimeout(t));typeof t=="function"?this.element=m.with(t):this.element=t}get root(){return A(i(this,ct))}set root(t){L(i(this,ct),t)}getElementById(t){return this.root.getElementById(t)}}ct=new WeakMap;var lt,Lt,Oe;class Nn{constructor(t,e){u(this,Lt);d(this,"state");u(this,lt);this.state=m(t),l(this,lt,e),this.dispatch=this.dispatch.bind(this)}dispatch(t){this.state.current=v(this,Lt,Oe).call(this,t)}}lt=new WeakMap,Lt=new WeakSet,Oe=function(t){return i(this,lt)[this.state.current][t]??this.state.current};const Cn={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};var ft,ht,dt;class On{constructor(t){d(this,"opts");u(this,ft,ut("none"));u(this,ht,ut(sn({})));d(this,"initialStatus");d(this,"previousPresent");d(this,"machine");d(this,"present");u(this,dt,Xt(()=>["mounted","unmountSuspended"].includes(this.machine.state.current)));this.opts=t,this.present=this.opts.open,this.initialStatus=t.open.current?"mounted":"unmounted",this.previousPresent=new vn(()=>this.present.current),this.machine=new Nn(this.initialStatus,Cn),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),In(this),Dn(this),xn(this)}get prevAnimationNameState(){return A(i(this,ft))}set prevAnimationNameState(t){L(i(this,ft),t,!0)}get styles(){return A(i(this,ht))}set styles(t){L(i(this,ht),t,!0)}handleAnimationEnd(t){if(!this.opts.ref.current)return;const e=It(this.opts.ref.current),r=e.includes(t.animationName)||e==="none";t.target===this.opts.ref.current&&r&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(t){this.opts.ref.current&&t.target===this.opts.ref.current&&(this.prevAnimationNameState=It(this.opts.ref.current))}get isPresent(){return A(i(this,dt))}set isPresent(t){L(i(this,dt),t)}}ft=new WeakMap,ht=new WeakMap,dt=new WeakMap;function In(n){N(()=>n.present.current,()=>{if(!n.opts.ref.current||!(n.present.current!==n.previousPresent.current))return;const e=n.prevAnimationNameState,r=It(n.opts.ref.current);if(n.present.current)n.machine.dispatch("MOUNT");else if(r==="none"||n.styles.display==="none")n.machine.dispatch("UNMOUNT");else{const s=e!==r;n.previousPresent.current&&s?n.machine.dispatch("ANIMATION_OUT"):n.machine.dispatch("UNMOUNT")}})}function Dn(n){N(()=>n.machine.state.current,()=>{if(!n.opts.ref.current)return;const t=It(n.opts.ref.current);n.prevAnimationNameState=n.machine.state.current==="mounted"?t:"none"})}function xn(n){N(()=>n.opts.ref.current,()=>{if(n.opts.ref.current)return n.styles=getComputedStyle(n.opts.ref.current),at(T(n.opts.ref.current,"animationstart",n.handleAnimationStart),T(n.opts.ref.current,"animationcancel",n.handleAnimationEnd),T(n.opts.ref.current,"animationend",n.handleAnimationEnd))})}function It(n){return n&&getComputedStyle(n).animationName||"none"}function Ir(n,t){X(t,!0);const e=new On({open:m.with(()=>t.open),ref:t.ref});var r=O(),s=C(r);{var a=o=>{var c=O(),f=C(c);J(f,()=>t.presence??Y,()=>({present:e.isPresent})),I(o,c)};Ee(s,o=>{(t.forceMount||t.open||e.isPresent)&&o(a)})}I(n,r),z()}var $,q,R,k,Qt,Ct;class Pn{constructor(t){u(this,k);u(this,$);u(this,q);u(this,R,!1);l(this,$,t),Tt(()=>v(this,k,Qt).call(this))}run(t){if(i(this,R))return;v(this,k,Qt).call(this),l(this,R,!0);const e=i(this,$).ref.current;if(!e){l(this,R,!1);return}if(typeof e.getAnimations!="function"){v(this,k,Ct).call(this,t);return}l(this,q,window.requestAnimationFrame(()=>{const r=e.getAnimations();if(r.length===0){v(this,k,Ct).call(this,t);return}Promise.allSettled(r.map(s=>s.finished)).then(()=>{v(this,k,Ct).call(this,t)})}))}}$=new WeakMap,q=new WeakMap,R=new WeakMap,k=new WeakSet,Qt=function(){i(this,q)&&(window.cancelAnimationFrame(i(this,q)),l(this,q,void 0)),l(this,R,!1)},Ct=function(t){const e=()=>{t(),l(this,R,!1)};i(this,$).afterTick?ue(e):e()};var x,mt,vt;class Dr{constructor(t){u(this,x);u(this,mt);u(this,vt);l(this,x,t),l(this,mt,t.enabled??!0),l(this,vt,new Pn({ref:i(this,x).ref,afterTick:i(this,x).open})),N([()=>i(this,x).open.current],([e])=>{i(this,mt)&&i(this,vt).run(()=>{e===i(this,x).open.current&&i(this,x).onComplete()})})}}x=new WeakMap,mt=new WeakMap,vt=new WeakMap;function Fn(n,t){var e=O(),r=C(e);mn(r,()=>t.children,s=>{var a=O(),o=C(a);J(o,()=>t.children??Y),I(s,a)}),I(n,e)}const ce=typeof document<"u",be=Ln();function Ln(){var n,t;return ce&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function pe(n){return n instanceof HTMLElement}function kn(n){return n instanceof Element}function xr(n){return n instanceof Element||n instanceof SVGElement}function Pr(n){return n!==null}function Fr(n){return n instanceof HTMLInputElement&&"select"in n}const Rn=new fn("BitsConfig");function Mn(){const n=new Bn(null,{});return Rn.getOr(n).opts}class Bn{constructor(t,e){d(this,"opts");const r=Un(t,e);this.opts={defaultPortalTo:r(s=>s.defaultPortalTo),defaultLocale:r(s=>s.defaultLocale)}}}function Un(n,t){return e=>m.with(()=>{var a,o;const s=(a=e(t))==null?void 0:a.current;if(s!==void 0)return s;if(n!==null)return(o=e(n.opts))==null?void 0:o.current})}function _n(n,t){return e=>{const r=Mn();return m.with(()=>{const s=e();if(s!==void 0)return s;const a=n(r).current;return a!==void 0?a:t})}}const Vn=_n(n=>n.defaultPortalTo,"body");function Lr(n,t){X(t,!0);const e=Vn(()=>t.to),r=on();let s=Xt(a);function a(){if(!ce||t.disabled)return null;let b=null;return typeof e.current=="string"?b=document.querySelector(e.current):b=e.current,b}let o;function c(){o&&(ln(o),o=null)}N([()=>A(s),()=>t.disabled],([b,V])=>{if(!b||V){c();return}return o=cn(Fn,{target:b,props:{children:t.children},context:r}),()=>{c()}});var f=O(),h=C(f);{var D=b=>{var V=O(),At=C(V);J(At,()=>t.children??Y),I(b,V)};Ee(h,b=>{t.disabled&&b(D)})}I(n,f),z()}function Ie(n,t,e,r){const s=Array.isArray(t)?t:[t];return s.forEach(a=>n.addEventListener(a,e,r)),()=>{s.forEach(a=>n.removeEventListener(a,e,r))}}class kr{constructor(t,e={bubbles:!0,cancelable:!0}){d(this,"eventName");d(this,"options");this.eventName=t,this.options=e}createEvent(t){return new CustomEvent(this.eventName,{...this.options,detail:t})}dispatch(t,e){const r=this.createEvent(e);return t.dispatchEvent(r),r}listen(t,e,r){const s=a=>{e(a)};return T(t,this.eventName,s,r)}}function ge(n,t=500){let e=null;const r=(...s)=>{e!==null&&clearTimeout(e),e=setTimeout(()=>{n(...s)},t)};return r.destroy=()=>{e!==null&&(clearTimeout(e),e=null)},r}function De(n,t){return n===t||n.contains(t)}function xe(n){return(n==null?void 0:n.ownerDocument)??document}function qn(n,t){const{clientX:e,clientY:r}=n,s=t.getBoundingClientRect();return e<s.left||e>s.right||r<s.top||r>s.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var tt,W,M,et,nt,B,bt,P,kt,ot,Pe,Rt,rt,Mt,Bt,Ut,_t,pt,Fe,Vt,qt;const le=class le{constructor(t){u(this,ot);d(this,"opts");u(this,tt);u(this,W);u(this,M,{pointerdown:!1});u(this,et,!1);u(this,nt,!1);u(this,B);u(this,bt);u(this,P,w);u(this,kt,t=>{t.defaultPrevented||this.opts.ref.current&&ue(()=>{var e,r;!this.opts.ref.current||i(this,_t).call(this,t.target)||t.target&&!i(this,nt)&&((r=(e=i(this,bt)).current)==null||r.call(e,t))})});u(this,Rt,t=>{let e=t;e.defaultPrevented&&(e=ye(t)),i(this,tt).current(t)});u(this,rt,ge(t=>{if(!this.opts.ref.current){i(this,P).call(this);return}const e=this.opts.isValidEvent.current(t,this.opts.ref.current)||jn(t,this.opts.ref.current);if(!i(this,et)||v(this,ot,Fe).call(this)||!e){i(this,P).call(this);return}let r=t;if(r.defaultPrevented&&(r=ye(r)),i(this,W).current!=="close"&&i(this,W).current!=="defer-otherwise-close"){i(this,P).call(this);return}t.pointerType==="touch"?(i(this,P).call(this),l(this,P,Ie(i(this,B),"click",i(this,Rt),{once:!0}))):i(this,tt).current(r)},10));u(this,Mt,t=>{i(this,M)[t.type]=!0});u(this,Bt,t=>{i(this,M)[t.type]=!1});u(this,Ut,()=>{this.opts.ref.current&&l(this,et,Kn(this.opts.ref.current))});u(this,_t,t=>this.opts.ref.current?De(this.opts.ref.current,t):!1);u(this,pt,ge(()=>{for(const t in i(this,M))i(this,M)[t]=!1;l(this,et,!1)},20));u(this,Vt,()=>{l(this,nt,!0)});u(this,qt,()=>{l(this,nt,!1)});d(this,"props",{onfocuscapture:i(this,Vt),onblurcapture:i(this,qt)});this.opts=t,l(this,W,t.interactOutsideBehavior),l(this,tt,t.onInteractOutside),l(this,bt,t.onFocusOutside),ae(()=>{l(this,B,xe(this.opts.ref.current))});let e=w;const r=()=>{i(this,pt).call(this),globalThis.bitsDismissableLayers.delete(this),i(this,rt).destroy(),e()};N([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return Te(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,i(this,W)),e(),e=v(this,ot,Pe).call(this))}),r}),Tt(()=>{i(this,pt).destroy(),globalThis.bitsDismissableLayers.delete(this),i(this,rt).destroy(),i(this,P).call(this),e()})}static create(t){return new le(t)}};tt=new WeakMap,W=new WeakMap,M=new WeakMap,et=new WeakMap,nt=new WeakMap,B=new WeakMap,bt=new WeakMap,P=new WeakMap,kt=new WeakMap,ot=new WeakSet,Pe=function(){return at(T(i(this,B),"pointerdown",at(i(this,Mt),i(this,Ut)),{capture:!0}),T(i(this,B),"pointerdown",at(i(this,Bt),i(this,rt))),T(i(this,B),"focusin",i(this,kt)))},Rt=new WeakMap,rt=new WeakMap,Mt=new WeakMap,Bt=new WeakMap,Ut=new WeakMap,_t=new WeakMap,pt=new WeakMap,Fe=function(){return Object.values(i(this,M)).some(Boolean)},Vt=new WeakMap,qt=new WeakMap;let $t=le;function Wn(n){return n.findLast(([t,{current:e}])=>e==="close"||e==="ignore")}function Kn(n){const t=[...globalThis.bitsDismissableLayers],e=Wn(t);if(e)return e[0].opts.ref.current===n;const[r]=t[0];return r.opts.ref.current===n}function jn(n,t){if("button"in n&&n.button>0)return!1;const e=n.target;return kn(e)?xe(e).documentElement.contains(e)&&!De(t,e)&&qn(n,t):!1}function ye(n){const t=n.currentTarget,e=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let s=!1;return new Proxy(r,{get:(o,c)=>c==="currentTarget"?t:c==="target"?e:c==="preventDefault"?()=>{s=!0,typeof o.preventDefault=="function"&&o.preventDefault()}:c==="defaultPrevented"?s:c in o?o[c]:n[c]})}function Rr(n,t){X(t,!0);let e=y(t,"interactOutsideBehavior",3,"close"),r=y(t,"onInteractOutside",3,w),s=y(t,"onFocusOutside",3,w),a=y(t,"isValidEvent",3,()=>!1);const o=$t.create({id:m.with(()=>t.id),interactOutsideBehavior:m.with(()=>e()),onInteractOutside:m.with(()=>r()),enabled:m.with(()=>t.enabled),onFocusOutside:m.with(()=>s()),isValidEvent:m.with(()=>a()),ref:t.ref});var c=O(),f=C(c);J(f,()=>t.children??Y,()=>({props:o.props})),I(n,c),z()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var Wt,Kt;const fe=class fe{constructor(t){d(this,"opts");d(this,"domContext");u(this,Wt,()=>T(this.domContext.getDocument(),"keydown",i(this,Kt),{passive:!1}));u(this,Kt,t=>{if(t.key!==hn||!Gn(this))return;const e=new KeyboardEvent(t.type,t);t.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(e)});this.opts=t,this.domContext=new Ce(this.opts.ref);let e=w;N(()=>t.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,t.escapeKeydownBehavior),e=i(this,Wt).call(this)),()=>{e(),globalThis.bitsEscapeLayers.delete(this)}))}static create(t){return new fe(t)}};Wt=new WeakMap,Kt=new WeakMap;let te=fe;function Gn(n){const t=[...globalThis.bitsEscapeLayers],e=t.findLast(([s,{current:a}])=>a==="close"||a==="ignore");if(e)return e[0]===n;const[r]=t[0];return r===n}function Mr(n,t){X(t,!0);let e=y(t,"escapeKeydownBehavior",3,"close"),r=y(t,"onEscapeKeydown",3,w);te.create({escapeKeydownBehavior:m.with(()=>e()),onEscapeKeydown:m.with(()=>r()),enabled:m.with(()=>t.enabled),ref:t.ref});var s=O(),a=C(s);J(a,()=>t.children??Y),I(n,s),z()}var F,gt;const jt=class jt{constructor(){u(this,F,m([]));u(this,gt,new WeakMap)}static getInstance(){return this.instance||(this.instance=new jt),this.instance}register(t){const e=this.getActive();e&&e!==t&&e.pause(),i(this,F).current=i(this,F).current.filter(r=>r!==t),i(this,F).current.unshift(t)}unregister(t){i(this,F).current=i(this,F).current.filter(r=>r!==t);const e=this.getActive();e&&e.resume()}getActive(){return i(this,F).current[0]}setFocusMemory(t,e){i(this,gt).set(t,e)}getFocusMemory(t){return i(this,gt).get(t)}isActiveScope(t){return this.getActive()===t}};F=new WeakMap,gt=new WeakMap,d(jt,"instance");let ee=jt;/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Le=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Dt=Le.join(","),ke=typeof Element>"u",Z=ke?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,xt=!ke&&Element.prototype.getRootNode?function(n){var t;return n==null||(t=n.getRootNode)===null||t===void 0?void 0:t.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Pt=function n(t,e){var r;e===void 0&&(e=!0);var s=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),a=s===""||s==="true",o=a||e&&t&&n(t.parentNode);return o},Hn=function(t){var e,r=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return r===""||r==="true"},Re=function(t,e,r){if(Pt(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(Dt));return e&&Z.call(t,Dt)&&s.unshift(t),s=s.filter(r),s},Me=function n(t,e,r){for(var s=[],a=Array.from(t);a.length;){var o=a.shift();if(!Pt(o,!1))if(o.tagName==="SLOT"){var c=o.assignedElements(),f=c.length?c:o.children,h=n(f,!0,r);r.flatten?s.push.apply(s,h):s.push({scopeParent:o,candidates:h})}else{var D=Z.call(o,Dt);D&&r.filter(o)&&(e||!t.includes(o))&&s.push(o);var b=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),V=!Pt(b,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(b&&V){var At=n(b===!0?o.children:b.children,!0,r);r.flatten?s.push.apply(s,At):s.push({scopeParent:o,candidates:At})}else a.unshift.apply(a,o.children)}}return s},Be=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Ue=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Hn(t))&&!Be(t)?0:t.tabIndex},Zn=function(t,e){var r=Ue(t);return r<0&&e&&!Be(t)?0:r},Xn=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},_e=function(t){return t.tagName==="INPUT"},zn=function(t){return _e(t)&&t.type==="hidden"},Yn=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return e},Jn=function(t,e){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===e)return t[r]},Qn=function(t){if(!t.name)return!0;var e=t.form||xt(t),r=function(c){return e.querySelectorAll('input[type="radio"][name="'+c+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(t.name));else try{s=r(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var a=Jn(s,t.form);return!a||a===t},$n=function(t){return _e(t)&&t.type==="radio"},tr=function(t){return $n(t)&&!Qn(t)},er=function(t){var e,r=t&&xt(t),s=(e=r)===null||e===void 0?void 0:e.host,a=!1;if(r&&r!==t){var o,c,f;for(a=!!((o=s)!==null&&o!==void 0&&(c=o.ownerDocument)!==null&&c!==void 0&&c.contains(s)||t!=null&&(f=t.ownerDocument)!==null&&f!==void 0&&f.contains(t));!a&&s;){var h,D,b;r=xt(s),s=(h=r)===null||h===void 0?void 0:h.host,a=!!((D=s)!==null&&D!==void 0&&(b=D.ownerDocument)!==null&&b!==void 0&&b.contains(s))}}return a},we=function(t){var e=t.getBoundingClientRect(),r=e.width,s=e.height;return r===0&&s===0},nr=function(t,e){var r=e.displayCheck,s=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var a=Z.call(t,"details>summary:first-of-type"),o=a?t.parentElement:t;if(Z.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var c=t;t;){var f=t.parentElement,h=xt(t);if(f&&!f.shadowRoot&&s(f)===!0)return we(t);t.assignedSlot?t=t.assignedSlot:!f&&h!==t.ownerDocument?t=h.host:t=f}t=c}if(er(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return we(t);return!1},rr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var r=0;r<e.children.length;r++){var s=e.children.item(r);if(s.tagName==="LEGEND")return Z.call(e,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}e=e.parentElement}return!1},Ft=function(t,e){return!(e.disabled||Pt(e)||zn(e)||nr(e,t)||Yn(e)||rr(e))},ne=function(t,e){return!(tr(e)||Ue(e)<0||!Ft(t,e))},ir=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},sr=function n(t){var e=[],r=[];return t.forEach(function(s,a){var o=!!s.scopeParent,c=o?s.scopeParent:s,f=Zn(c,o),h=o?n(s.candidates):c;f===0?o?e.push.apply(e,h):e.push(c):r.push({documentOrder:a,tabIndex:f,item:s,isScope:o,content:h})}),r.sort(Xn).reduce(function(s,a){return a.isScope?s.push.apply(s,a.content):s.push(a.content),s},[]).concat(e)},or=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Me([t],e.includeContainer,{filter:ne.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:ir}):r=Re(t,e.includeContainer,ne.bind(null,e)),sr(r)},ar=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Me([t],e.includeContainer,{filter:Ft.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):r=Re(t,e.includeContainer,Ft.bind(null,e)),r},Br=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Z.call(t,Dt)===!1?!1:ne(e,t)},ur=Le.concat("iframe").join(","),cr=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Z.call(t,ur)===!1?!1:Ft(e,t)},U,g,S,K,_,p,Ve,qe,We,Ke,ie,Ot,se;const he=class he{constructor(t){u(this,p);u(this,U,!1);u(this,g,null);u(this,S,ee.getInstance());u(this,K,[]);u(this,_);l(this,_,t)}get paused(){return i(this,U)}pause(){l(this,U,!0)}resume(){l(this,U,!1)}mount(t){i(this,g)&&this.unmount(),l(this,g,t),i(this,S).register(this),v(this,p,Ke).call(this),v(this,p,qe).call(this)}unmount(){i(this,g)&&(v(this,p,Ve).call(this),v(this,p,We).call(this),i(this,S).unregister(this),l(this,g,null))}static use(t){let e=null;return N([()=>t.ref.current,()=>t.enabled.current],([r,s])=>{r&&s?(e||(e=new he(t)),e.mount(r)):e&&(e.unmount(),e=null)}),Tt(()=>{e==null||e.unmount()}),{get props(){return{tabindex:-1}}}}};U=new WeakMap,g=new WeakMap,S=new WeakMap,K=new WeakMap,_=new WeakMap,p=new WeakSet,Ve=function(){for(const t of i(this,K))t();l(this,K,[])},qe=function(){if(!i(this,g))return;const t=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});i(this,_).onOpenAutoFocus.current(t),t.defaultPrevented||requestAnimationFrame(()=>{if(!i(this,g))return;const e=v(this,p,Ot).call(this);e?(e.focus(),i(this,S).setFocusMemory(this,e)):i(this,g).focus()})},We=function(){const t=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if(i(this,_).onCloseAutoFocus.current(t),!t.defaultPrevented){const e=document.activeElement;e&&e!==document.body&&e.focus()}},Ke=function(){if(!i(this,g)||!i(this,_).trap.current)return;const t=i(this,g),e=t.ownerDocument,r=o=>{if(i(this,U)||!i(this,S).isActiveScope(this))return;const c=o.target;if(!c)return;if(t.contains(c))i(this,S).setFocusMemory(this,c);else{const h=i(this,S).getFocusMemory(this);if(h&&t.contains(h)&&cr(h))o.preventDefault(),h.focus();else{const D=v(this,p,Ot).call(this),b=v(this,p,se).call(this)[0];(D||b||t).focus()}}},s=o=>{if(!i(this,_).loop||i(this,U)||o.key!=="Tab"||!i(this,S).isActiveScope(this))return;const c=v(this,p,ie).call(this);if(c.length<2)return;const f=c[0],h=c[c.length-1];!o.shiftKey&&e.activeElement===h?(o.preventDefault(),f.focus()):o.shiftKey&&e.activeElement===f&&(o.preventDefault(),h.focus())};i(this,K).push(T(e,"focusin",r,{capture:!0}),T(t,"keydown",s));const a=new MutationObserver(()=>{const o=i(this,S).getFocusMemory(this);if(o&&!t.contains(o)){const c=v(this,p,Ot).call(this),f=v(this,p,se).call(this)[0],h=c||f;h?(h.focus(),i(this,S).setFocusMemory(this,h)):t.focus()}});a.observe(t,{childList:!0,subtree:!0}),i(this,K).push(()=>a.disconnect())},ie=function(){return i(this,g)?or(i(this,g),{includeContainer:!1,getShadowRoot:!0}):[]},Ot=function(){return v(this,p,ie).call(this)[0]||null},se=function(){return i(this,g)?ar(i(this,g),{includeContainer:!1,getShadowRoot:!0}):[]};let re=he;function Ur(n,t){X(t,!0);let e=y(t,"enabled",3,!1),r=y(t,"trapFocus",3,!1),s=y(t,"loop",3,!1),a=y(t,"onCloseAutoFocus",3,w),o=y(t,"onOpenAutoFocus",3,w);const c=re.use({enabled:m.with(()=>e()),trap:m.with(()=>r()),loop:s(),onCloseAutoFocus:m.with(()=>a()),onOpenAutoFocus:m.with(()=>o()),ref:t.ref});var f=O(),h=C(f);J(h,()=>t.focusScope??Y,()=>({props:c.props})),I(n,f),z()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var it,Gt,je,Ht,yt;const de=class de{constructor(t){u(this,Gt);d(this,"opts");d(this,"domContext");u(this,it,w);u(this,Ht,t=>{const e=this.opts.ref.current,r=t.target;!pe(e)||!pe(r)||!this.opts.enabled.current||!fr(this)||!Sn(e,r)||(this.opts.onPointerDown.current(t),!t.defaultPrevented&&l(this,it,lr(e,this.domContext.getDocument().body)))});u(this,yt,()=>{i(this,it).call(this),l(this,it,w)});this.opts=t,this.domContext=new Ce(t.ref);let e=w;N(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),e(),e=v(this,Gt,je).call(this)),()=>{e(),i(this,yt).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}static create(t){return new de(t)}};it=new WeakMap,Gt=new WeakSet,je=function(){return at(T(this.domContext.getDocument(),"pointerdown",i(this,Ht)),T(this.domContext.getDocument(),"pointerup",un(i(this,yt),this.opts.onPointerUp.current)))},Ht=new WeakMap,yt=new WeakMap;let oe=de;const Se=n=>n.style.userSelect||n.style.webkitUserSelect;function lr(n,t){const e=Se(t),r=Se(n);return Nt(t,"none"),Nt(n,"text"),()=>{Nt(t,e),Nt(n,r)}}function Nt(n,t){n.style.userSelect=t,n.style.webkitUserSelect=t}function fr(n){const t=[...globalThis.bitsTextSelectionLayers];if(!t.length)return!1;const e=t.at(-1);return e?e[0]===n:!1}function _r(n,t){X(t,!0);let e=y(t,"preventOverflowTextSelection",3,!0),r=y(t,"onPointerDown",3,w),s=y(t,"onPointerUp",3,w);oe.create({id:m.with(()=>t.id),onPointerDown:m.with(()=>r()),onPointerUp:m.with(()=>s()),enabled:m.with(()=>t.enabled&&e()),ref:t.ref});var a=O(),o=C(a);J(o,()=>t.children??Y),I(n,a),z()}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function hr(n="bits"){return globalThis.bitsIdCounter.current++,`${n}-${globalThis.bitsIdCounter.current}`}var wt,st,j,G,Zt,Ge;class dr{constructor(t){u(this,Zt);u(this,wt);u(this,st,0);u(this,j,ut());u(this,G);l(this,wt,t)}get(...t){return l(this,st,i(this,st)+1),A(i(this,j))===void 0&&l(this,G,an(()=>{L(i(this,j),i(this,wt).call(this,...t),!0)})),ae(()=>()=>{v(this,Zt,Ge).call(this)}),A(i(this,j))}}wt=new WeakMap,st=new WeakMap,j=new WeakMap,G=new WeakMap,Zt=new WeakSet,Ge=function(){l(this,st,i(this,st)-1),i(this,G)&&i(this,st)<=0&&(i(this,G).call(this),L(i(this,j),void 0),l(this,G,void 0))};const mr=new dr(()=>{const n=new dn,t=Xt(()=>{for(const a of n.values())if(a)return!0;return!1});let e=ut(null),r=null;function s(){ce&&(document.body.setAttribute("style",A(e)??""),document.body.style.removeProperty("--scrollbar-width"),be&&(r==null||r()))}return N(()=>A(t),()=>{if(!A(t))return;L(e,document.body.getAttribute("style"),!0);const a=getComputedStyle(document.body),o=window.innerWidth-document.documentElement.clientWidth,f={padding:Number.parseInt(a.paddingRight??"0",10)+o,margin:Number.parseInt(a.marginRight??"0",10)};o>0&&(document.body.style.paddingRight=`${f.padding}px`,document.body.style.marginRight=`${f.margin}px`,document.body.style.setProperty("--scrollbar-width",`${o}px`),document.body.style.overflow="hidden"),be&&(r=Ie(document,"touchmove",h=>{h.target===document.documentElement&&(h.touches.length>1||h.preventDefault())},{passive:!1})),ue(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),Tt(()=>()=>{r==null||r()}),{get map(){return n},resetBodyStyle:s}});var H,St,Et,E;class vr{constructor(t,e=()=>null){u(this,H,hr());u(this,St);u(this,Et,()=>null);u(this,E);d(this,"locked");l(this,St,t),l(this,Et,e),l(this,E,mr.get()),i(this,E)&&(i(this,E).map.set(i(this,H),i(this,St)??!1),this.locked=m.with(()=>i(this,E).map.get(i(this,H))??!1,r=>i(this,E).map.set(i(this,H),r)),Tt(()=>{if(i(this,E).map.delete(i(this,H)),br(i(this,E).map))return;const r=i(this,Et).call(this);r===null?requestAnimationFrame(()=>i(this,E).resetBodyStyle()):Te(r,()=>i(this,E).resetBodyStyle())}))}}H=new WeakMap,St=new WeakMap,Et=new WeakMap,E=new WeakMap;function br(n){for(const[t,e]of n)if(e)return!0;return!1}function Vr(n,t){X(t,!0);let e=y(t,"preventScroll",3,!0),r=y(t,"restoreScrollDelay",3,null);e()&&new vr(e(),()=>r()),z()}export{kr as C,Ce as D,Mr as E,Ur as F,Dr as O,Ir as P,Vr as S,_r as T,Te as a,Rr as b,Lr as c,Br as d,cr as e,ar as f,En as g,Tn as h,Fr as i,kn as j,pe as k,ue as l,xr as m,Pr as n,Tt as o,vn as p,be as q,or as t,hr as u};
