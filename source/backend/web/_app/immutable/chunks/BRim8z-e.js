var at=Object.defineProperty;var Q=s=>{throw TypeError(s)};var ot=(s,t,e)=>t in s?at(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var u=(s,t,e)=>ot(s,typeof t!="symbol"?t+"":t,e),it=(s,t,e)=>t.has(s)||Q("Cannot "+e);var m=(s,t,e)=>(it(s,t,"read from private field"),e?e.call(s):t.get(s)),b=(s,t,e)=>t.has(s)?Q("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e);import"./CWj6FrbW.js";import{u as _,g as h,a6 as D,p as A,f as w,a as O,c as V,n as B,r as W}from"./Cz8b3aZ3.js";import{p as Y,c as S,a as g,f as Z}from"./C2w1fM-E.js";import{c as F}from"./C6m_ZTD2.js";import{p as y,r as T,s as X}from"./CgaBgbAm.js";import{e as q,i as nt,w as ct,a as $,b as x,m as tt,c as et}from"./CRTrzSdk.js";import{s as C}from"./DKxS7cW-.js";import{i as st}from"./BddMa5fM.js";import{a as rt}from"./srgpLeXS.js";import{C as lt}from"./CivI460a.js";import{D as dt}from"./fbxXtlMK.js";import{I as ut}from"./DtPvi7nZ.js";const E=nt({component:"avatar",parts:["root","image","fallback"]}),G=new lt("Avatar.Root");var P;const H=class H{constructor(t){u(this,"opts");u(this,"domContext");u(this,"attachment");b(this,P,_(()=>({id:this.opts.id.current,[E.root]:"","data-status":this.opts.loadingStatus.current,...this.attachment})));this.opts=t,this.domContext=new dt(this.opts.ref),this.loadImage=this.loadImage.bind(this),this.attachment=q(this.opts.ref)}static create(t){return G.set(new H(t))}loadImage(t,e,o){if(this.opts.loadingStatus.current==="loaded")return;let r;const i=new Image;return i.src=t,e!==void 0&&(i.crossOrigin=e),o&&(i.referrerPolicy=o),this.opts.loadingStatus.current="loading",i.onload=()=>{r=this.domContext.setTimeout(()=>{this.opts.loadingStatus.current="loaded"},this.opts.delayMs.current)},i.onerror=()=>{this.opts.loadingStatus.current="error"},()=>{r&&this.domContext.clearTimeout(r)}}get props(){return h(m(this,P))}set props(t){D(m(this,P),t)}};P=new WeakMap;let R=H;var k;const J=class J{constructor(t,e){u(this,"opts");u(this,"root");u(this,"attachment");b(this,k,_(()=>({id:this.opts.id.current,style:{display:this.root.opts.loadingStatus.current==="loaded"?"block":"none"},"data-status":this.root.opts.loadingStatus.current,[E.image]:"",src:this.opts.src.current,crossorigin:this.opts.crossOrigin.current,referrerpolicy:this.opts.referrerPolicy.current,...this.attachment})));this.opts=t,this.root=e,this.attachment=q(this.opts.ref),ct.pre([()=>this.opts.src.current,()=>this.opts.crossOrigin.current],([o,r])=>{if(!o){this.root.opts.loadingStatus.current="error";return}this.root.loadImage(o,r,this.opts.referrerPolicy.current)})}static create(t){return new J(t,G.get())}get props(){return h(m(this,k))}set props(t){D(m(this,k),t)}};k=new WeakMap;let U=J;var I,M;const K=class K{constructor(t,e){u(this,"opts");u(this,"root");u(this,"attachment");b(this,I,_(()=>this.root.opts.loadingStatus.current==="loaded"?{display:"none"}:void 0));b(this,M,_(()=>({style:this.style,"data-status":this.root.opts.loadingStatus.current,[E.fallback]:"",...this.attachment})));this.opts=t,this.root=e,this.attachment=q(this.opts.ref)}static create(t){return new K(t,G.get())}get style(){return h(m(this,I))}set style(t){D(m(this,I),t)}get props(){return h(m(this,M))}set props(t){D(m(this,M),t)}};I=new WeakMap,M=new WeakMap;let j=K;var ht=Z("<div><!></div>");function ft(s,t){const e=Y();A(t,!0);let o=y(t,"delayMs",3,0),r=y(t,"loadingStatus",15,"loading"),i=y(t,"id",19,()=>$(e)),n=y(t,"ref",15,null),c=T(t,["$$slots","$$events","$$legacy","delayMs","loadingStatus","onLoadingStatusChange","child","children","id","ref"]);const p=R.create({delayMs:x.with(()=>o()),loadingStatus:x.with(()=>r(),a=>{var d;r()!==a&&(r(a),(d=t.onLoadingStatusChange)==null||d.call(t,a))}),id:x.with(()=>i()),ref:x.with(()=>n(),a=>n(a))}),v=_(()=>tt(c,p.props));var z=S(),L=w(z);{var l=a=>{var d=S(),N=w(d);C(N,()=>t.child,()=>({props:h(v)})),g(a,d)},f=a=>{var d=ht();rt(d,()=>({...h(v)}));var N=V(d);C(N,()=>t.children??B),W(d),g(a,d)};st(L,a=>{t.child?a(l):a(f,!1)})}g(s,z),O()}var mt=Z("<span><!></span>");function gt(s,t){const e=Y();A(t,!0);let o=y(t,"id",19,()=>$(e)),r=y(t,"ref",15,null),i=T(t,["$$slots","$$events","$$legacy","children","child","id","ref"]);const n=j.create({id:x.with(()=>o()),ref:x.with(()=>r(),l=>r(l))}),c=_(()=>tt(i,n.props));var p=S(),v=w(p);{var z=l=>{var f=S(),a=w(f);C(a,()=>t.child,()=>({props:h(c)})),g(l,f)},L=l=>{var f=mt();rt(f,()=>({...h(c)}));var a=V(f);C(a,()=>t.children??B),W(f),g(l,f)};st(v,l=>{t.child?l(z):l(L,!1)})}g(s,p),O()}function At(s,t){A(t,!0);let e=y(t,"ref",15,null),o=T(t,["$$slots","$$events","$$legacy","ref","class"]);var r=S(),i=w(r);const n=_(()=>et("relative flex size-8 shrink-0 overflow-hidden rounded-full",t.class));F(i,()=>ft,(c,p)=>{p(c,X({"data-slot":"avatar",get class(){return h(n)}},()=>o,{get ref(){return e()},set ref(v){e(v)}}))}),g(s,r),O()}function Ot(s,t){A(t,!0);let e=y(t,"ref",15,null),o=T(t,["$$slots","$$events","$$legacy","ref","class"]);var r=S(),i=w(r);const n=_(()=>et("bg-muted flex size-full items-center justify-center rounded-full",t.class));F(i,()=>gt,(c,p)=>{p(c,X({"data-slot":"avatar-fallback",get class(){return h(n)}},()=>o,{get ref(){return e()},set ref(v){e(v)}}))}),g(s,r),O()}function Tt(s,t){A(t,!0);let e=T(t,["$$slots","$$events","$$legacy"]);const o=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];ut(s,X({name:"x"},()=>e,{get iconNode(){return o},children:(r,i)=>{var n=S(),c=w(n);C(c,()=>t.children??B),g(r,n)},$$slots:{default:!0}})),O()}export{U as A,Tt as X,At as a,Ot as b};
