var ar=Object.defineProperty;var Ke=n=>{throw TypeError(n)};var ir=(n,t,e)=>t in n?ar(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var l=(n,t,e)=>ir(n,typeof t!="symbol"?t+"":t,e),ae=(n,t,e)=>t.has(n)||Ke("Cannot "+e);var i=(n,t,e)=>(ae(n,t,"read from private field"),e?e.call(n):t.get(n)),b=(n,t,e)=>t.has(n)?Ke("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),nt=(n,t,e,r)=>(ae(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),H=(n,t,e)=>(ae(n,t,"access private method"),e);import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{o as ur}from"../chunks/DFFYA4bw.js";import{aL as Y,u as D,g as o,a6 as w,z as Le,p as $,f as k,a as tt,c as P,n as At,r as T,D as Zt,aU as cr,a4 as N,Q as Re,a3 as st,B as ot,a7 as ie}from"../chunks/Cz8b3aZ3.js";import{a as Pt}from"../chunks/BJQCchKY.js";import{i as Q}from"../chunks/BddMa5fM.js";import{e as dr,i as lr}from"../chunks/B6heVWRr.js";import{p as ye,c as F,a as d,f as G,t as dt}from"../chunks/C2w1fM-E.js";import{a as lt,d as pr,c as hr}from"../chunks/srgpLeXS.js";import{i as fr}from"../chunks/BXKlKvRW.js";import{p as f,r as yt,s as mt}from"../chunks/CgaBgbAm.js";import{g as Be}from"../chunks/CUAbeyJP.js";import{C as gr,a as vr}from"../chunks/DlvycHRX.js";import{C as mr,a as br}from"../chunks/TnuODhjZ.js";import{S as yr}from"../chunks/CWZfwNN4.js";import{w as $t,u as qe,i as wr,b as M,e as we,k as We,n as He,l as xr,h as _r,m as pt,v as Mr,a as xe,c as je,B as ue}from"../chunks/CRTrzSdk.js";import{b as Qt}from"../chunks/BVr5Yqa7.js";import{s as j}from"../chunks/DKxS7cW-.js";import{c as Ye,P as Cr,H as Pr,A as Tr,f as kr,E as Ar,d as Ue,S as _e,C as Me,T as Or,n as ht}from"../chunks/CivI460a.js";import{g as ne,i as Sr,d as Ce,t as Er,e as Fr,f as Ir,h as Dr,j as de,k as bt,O as Nr,D as Kr,C as Rr,l as at,m as Br,c as Gr}from"../chunks/fbxXtlMK.js";import{b as zr,D as Lr,F as qr,P as Wr,a as Hr,g as Ge,c as jr}from"../chunks/DjJ4kRdI.js";import{R as Yr}from"../chunks/qbuTsoJQ.js";import{p as ft}from"../chunks/CiHTc1pK.js";import{A as Ur}from"../chunks/kFzVddHn.js";import{c as te}from"../chunks/C6m_ZTD2.js";const Vr=[Ue,_e],Xr=[Ye,Cr,Pr],Ve=[Tr,kr,Ar],Qr=[...Xr,...Ve];function ze(n){return n.pointerType==="mouse"}function Jr(n,{select:t=!1}={}){if(!n||!n.focus)return;const e=ne(n);if(e.activeElement===n)return;const r=e.activeElement;n.focus({preventScroll:!0}),n!==r&&Sr(n)&&t&&n.select()}function Zr(n,{select:t=!1}={},e){const r=e();for(const s of n)if(Jr(s,{select:t}),e()!==r)return!0}function kt(){return{getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function $r(n,t){if(!Ce(n,kt()))return tn(n,t);const e=ne(n),r=Er(e.body,kt());t==="prev"&&r.reverse();const s=r.indexOf(n);return s===-1?e.body:r.slice(s+1)[0]}function tn(n,t){const e=ne(n);if(!Fr(n,kt()))return e.body;const r=Ir(e.body,kt());t==="prev"&&r.reverse();const s=r.indexOf(n);return s===-1?e.body:r.slice(s+1).find(u=>Ce(u,kt()))??e.body}var it,Ot,gt,X,Z,le,pe;class en{constructor(t){b(this,Z);b(this,it);b(this,Ot);b(this,gt);b(this,X,Y(null));nt(this,it,t),nt(this,Ot,D(()=>i(this,it).enabled())),nt(this,gt,zr(!1,{afterMs:t.transitTimeout??300,onChange:e=>{var r,s;o(i(this,Ot))&&((s=(r=i(this,it)).setIsPointerInTransit)==null||s.call(r,e))},getWindow:()=>Dr(i(this,it).triggerNode())})),$t([t.triggerNode,t.contentNode,t.enabled],([e,r,s])=>{if(!e||!r||!s)return;const a=p=>{H(this,Z,pe).call(this,p,r)},u=p=>{H(this,Z,pe).call(this,p,e)};return qe(ft(e,"pointerleave",a),ft(r,"pointerleave",u))}),$t(()=>o(i(this,X)),()=>{const e=s=>{var y,v;if(!o(i(this,X)))return;const a=s.target;if(!de(a))return;const u={x:s.clientX,y:s.clientY},p=((y=t.triggerNode())==null?void 0:y.contains(a))||((v=t.contentNode())==null?void 0:v.contains(a)),c=!on(u,o(i(this,X)));p?H(this,Z,le).call(this):c&&(H(this,Z,le).call(this),t.onPointerExit())},r=ne(t.triggerNode()??t.contentNode());if(r)return ft(r,"pointermove",e)})}}it=new WeakMap,Ot=new WeakMap,gt=new WeakMap,X=new WeakMap,Z=new WeakSet,le=function(){w(i(this,X),null),i(this,gt).current=!1},pe=function(t,e){const r=t.currentTarget;if(!bt(r))return;const s={x:t.clientX,y:t.clientY},a=rn(s,r.getBoundingClientRect()),u=nn(s,a),p=sn(e.getBoundingClientRect()),c=an([...u,...p]);w(i(this,X),c,!0),i(this,gt).current=!0};function rn(n,t){const e=Math.abs(t.top-n.y),r=Math.abs(t.bottom-n.y),s=Math.abs(t.right-n.x),a=Math.abs(t.left-n.x);switch(Math.min(e,r,s,a)){case a:return"left";case s:return"right";case e:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nn(n,t,e=5){const r=e*1.5;switch(t){case"top":return[{x:n.x-e,y:n.y+e},{x:n.x,y:n.y-r},{x:n.x+e,y:n.y+e}];case"bottom":return[{x:n.x-e,y:n.y-e},{x:n.x,y:n.y+r},{x:n.x+e,y:n.y-e}];case"left":return[{x:n.x+e,y:n.y-e},{x:n.x-r,y:n.y},{x:n.x+e,y:n.y+e}];case"right":return[{x:n.x-e,y:n.y-e},{x:n.x+r,y:n.y},{x:n.x-e,y:n.y+e}]}}function sn(n){const{top:t,right:e,bottom:r,left:s}=n;return[{x:s,y:t},{x:e,y:t},{x:e,y:r},{x:s,y:r}]}function on(n,t){const{x:e,y:r}=n;let s=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const p=t[a].x,c=t[a].y,y=t[u].x,v=t[u].y;c>r!=v>r&&e<(y-p)*(r-c)/(v-c)+p&&(s=!s)}return s}function an(n){const t=n.slice();return t.sort((e,r)=>e.x<r.x?-1:e.x>r.x?1:e.y<r.y?-1:e.y>r.y?1:0),un(t)}function un(n){if(n.length<=1)return n.slice();const t=[];for(let r=0;r<n.length;r++){const s=n[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(s.y-u.y)>=(a.y-u.y)*(s.x-u.x))t.pop();else break}t.push(s)}t.pop();const e=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(s.y-u.y)>=(a.y-u.y)*(s.x-u.x))e.pop();else break}e.push(s)}return e.pop(),t.length===1&&e.length===1&&t[0].x===e[0].x&&t[0].y===e[0].y?t:t.concat(e)}const cn=new Me("Menu.Root"),Pe=new Me("Menu.Root | Menu.Sub"),Xe=new Me("Menu.Content"),dn=new Rr("bitsmenuopen",{bubbles:!1,cancelable:!0}),ln=wr({component:"menu",parts:["trigger","content","sub-trigger","item","group","group-heading","checkbox-group","checkbox-item","radio-group","radio-item","separator","sub-content","arrow"]});var St,Et;const Te=class Te{constructor(t){l(this,"opts");l(this,"isUsingKeyboard",new be);b(this,St,Y(!1));b(this,Et,Y(!1));l(this,"getBitsAttr",t=>ln.getAttr(t,this.opts.variant.current));this.opts=t}static create(t){const e=new Te(t);return cn.set(e)}get ignoreCloseAutoFocus(){return o(i(this,St))}set ignoreCloseAutoFocus(t){w(i(this,St),t,!0)}get isPointerInTransit(){return o(i(this,Et))}set isPointerInTransit(t){w(i(this,Et),t,!0)}};St=new WeakMap,Et=new WeakMap;let he=Te;var Ft,It;const ke=class ke{constructor(t,e,r){l(this,"opts");l(this,"root");l(this,"parentMenu");l(this,"contentId",M.with(()=>""));b(this,Ft,Y(null));b(this,It,Y(null));this.opts=t,this.root=e,this.parentMenu=r,new Nr({ref:M.with(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),r&&$t(()=>r.opts.open.current,()=>{r.opts.open.current||(this.opts.open.current=!1)})}static create(t,e){return Pe.set(new ke(t,e,null))}get contentNode(){return o(i(this,Ft))}set contentNode(t){w(i(this,Ft),t,!0)}get triggerNode(){return o(i(this,It))}set triggerNode(t){w(i(this,It),t,!0)}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}};Ft=new WeakMap,It=new WeakMap;let fe=ke;var Dt,Nt,Kt,Rt,Bt,J,Qe,Jt,Gt,zt;const Ae=class Ae{constructor(t,e){b(this,J);l(this,"opts");l(this,"parentMenu");l(this,"rovingFocusGroup");l(this,"domContext");l(this,"attachment");b(this,Dt,Y(""));b(this,Nt,0);b(this,Kt);b(this,Rt,Y(!1));b(this,Bt);l(this,"onCloseAutoFocus",t=>{this.opts.onCloseAutoFocus.current(t),!(t.defaultPrevented||i(this,Bt))&&this.parentMenu.triggerNode&&Ce(this.parentMenu.triggerNode)&&this.parentMenu.triggerNode.focus()});l(this,"onOpenAutoFocus",t=>{if(t.defaultPrevented)return;t.preventDefault();const e=this.parentMenu.contentNode;e==null||e.focus()});b(this,Gt,D(()=>({open:this.parentMenu.opts.open.current})));b(this,zt,D(()=>({id:this.opts.id.current,role:"menu","aria-orientation":_r("vertical"),[this.parentMenu.root.getBitsAttr("content")]:"","data-state":We(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"},...this.attachment})));l(this,"popperProps",{onCloseAutoFocus:t=>this.onCloseAutoFocus(t)});this.opts=t,this.parentMenu=e,this.domContext=new Kr(t.ref),this.attachment=we(this.opts.ref,r=>{this.parentMenu.contentNode!==r&&(this.parentMenu.contentNode=r)}),e.contentId=t.id,nt(this,Bt,t.isSub??!1),this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),new en({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>{var r;return this.parentMenu.opts.open.current&&!!((r=this.parentMenu.triggerNode)!=null&&r.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger")))},onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:r=>{this.parentMenu.root.isPointerInTransit=r}}),nt(this,Kt,new Lr({getActiveElement:()=>this.domContext.getActiveElement(),getWindow:()=>this.domContext.getWindow()}).handleTypeaheadSearch),this.rovingFocusGroup=new Yr({rootNode:M.with(()=>this.parentMenu.contentNode),candidateAttr:this.parentMenu.root.getBitsAttr("item"),loop:this.opts.loop,orientation:M.with(()=>"vertical")}),$t(()=>this.parentMenu.contentNode,r=>{if(!r)return;const s=()=>{at(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})};return dn.listen(r,s)}),Le(()=>{this.parentMenu.opts.open.current||this.domContext.getWindow().clearTimeout(i(this,Nt))})}static create(t){return Xe.set(new Ae(t,Pe.get()))}get search(){return o(i(this,Dt))}set search(t){w(i(this,Dt),t,!0)}get mounted(){return o(i(this,Rt))}set mounted(t){w(i(this,Rt),t,!0)}handleTabKeyDown(t){let e=this.parentMenu;for(;e.parentMenu!==null;)e=e.parentMenu;if(!e.triggerNode)return;t.preventDefault();const r=$r(e.triggerNode,t.shiftKey?"prev":"next");r?(this.parentMenu.root.ignoreCloseAutoFocus=!0,e.onClose(),at(()=>{r.focus(),at(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):this.domContext.getDocument().body.focus()}onkeydown(t){var y,v;if(t.defaultPrevented)return;if(t.key===Or){this.handleTabKeyDown(t);return}const e=t.target,r=t.currentTarget;if(!bt(e)||!bt(r))return;const s=((y=e.closest(`[${this.parentMenu.root.getBitsAttr("content")}]`))==null?void 0:y.id)===this.parentMenu.contentId.current,a=t.ctrlKey||t.altKey||t.metaKey,u=t.key.length===1;if(this.rovingFocusGroup.handleKeydown(e,t)||t.code==="Space")return;const c=H(this,J,Qe).call(this);s&&!a&&u&&i(this,Kt).call(this,t.key,c),((v=t.target)==null?void 0:v.id)===this.parentMenu.contentId.current&&Qr.includes(t.key)&&(t.preventDefault(),Ve.includes(t.key)&&c.reverse(),Zr(c,{select:!1},()=>this.domContext.getActiveElement()))}onblur(t){var e,r;de(t.currentTarget)&&de(t.target)&&((r=(e=t.currentTarget).contains)!=null&&r.call(e,t.target)||(this.domContext.getWindow().clearTimeout(i(this,Nt)),this.search=""))}onfocus(t){this.parentMenu.root.isUsingKeyboard.current&&at(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return H(this,J,Jt).call(this)}onItemLeave(t){if(t.currentTarget.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger"))||H(this,J,Jt).call(this)||this.parentMenu.root.isUsingKeyboard.current)return;const e=this.parentMenu.contentNode;e==null||e.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!H(this,J,Jt).call(this)}handleInteractOutside(t){var r;if(!Br(t.target))return;const e=(r=this.parentMenu.triggerNode)==null?void 0:r.id;if(t.target.id===e){t.preventDefault();return}t.target.closest(`#${e}`)&&t.preventDefault()}get snippetProps(){return o(i(this,Gt))}set snippetProps(t){w(i(this,Gt),t)}get props(){return o(i(this,zt))}set props(t){w(i(this,zt),t)}};Dt=new WeakMap,Nt=new WeakMap,Kt=new WeakMap,Rt=new WeakMap,Bt=new WeakMap,J=new WeakSet,Qe=function(){const t=this.parentMenu.contentNode;return t?Array.from(t.querySelectorAll(`[${this.parentMenu.root.getBitsAttr("item")}]:not([data-disabled])`)):[]},Jt=function(){return this.parentMenu.root.isPointerInTransit},Gt=new WeakMap,zt=new WeakMap;let ge=Ae;var vt,Lt;class pn{constructor(t,e){l(this,"opts");l(this,"content");l(this,"attachment");b(this,vt,Y(!1));b(this,Lt,D(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":Mr(this.opts.disabled.current),"data-disabled":He(this.opts.disabled.current),"data-highlighted":o(i(this,vt))?"":void 0,[this.content.parentMenu.root.getBitsAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur,...this.attachment})));this.opts=t,this.content=e,this.attachment=we(this.opts.ref),this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this)}onpointermove(t){if(!t.defaultPrevented&&ze(t))if(this.opts.disabled.current)this.content.onItemLeave(t);else{if(this.content.onItemEnter())return;const r=t.currentTarget;if(!bt(r))return;r.focus()}}onpointerleave(t){t.defaultPrevented||ze(t)&&this.content.onItemLeave(t)}onfocus(t){at(()=>{t.defaultPrevented||this.opts.disabled.current||w(i(this,vt),!0)})}onblur(t){at(()=>{t.defaultPrevented||w(i(this,vt),!1)})}get props(){return o(i(this,Lt))}set props(t){w(i(this,Lt),t)}}vt=new WeakMap,Lt=new WeakMap;var qt,ee,Je,Wt;const Oe=class Oe{constructor(t,e){b(this,ee);l(this,"opts");l(this,"item");l(this,"root");b(this,qt,!1);b(this,Wt,D(()=>pt(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown})));this.opts=t,this.item=e,this.root=e.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}static create(t){const e=new pn(t,Xe.get());return new Oe(t,e)}onkeydown(t){const e=this.item.content.search!=="";if(!(this.item.opts.disabled.current||e&&t.key===_e)&&Vr.includes(t.key)){if(!bt(t.currentTarget))return;t.currentTarget.click(),t.preventDefault()}}onclick(t){this.item.opts.disabled.current||H(this,ee,Je).call(this)}onpointerup(t){var e;if(!t.defaultPrevented&&!i(this,qt)){if(!bt(t.currentTarget))return;(e=t.currentTarget)==null||e.click()}}onpointerdown(t){nt(this,qt,!0)}get props(){return o(i(this,Wt))}set props(t){w(i(this,Wt),t)}};qt=new WeakMap,ee=new WeakSet,Je=function(){if(this.item.opts.disabled.current)return;const t=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});this.opts.onSelect.current(t),at(()=>{if(t.defaultPrevented){this.item.content.parentMenu.root.isUsingKeyboard.current=!1;return}this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()})},Wt=new WeakMap;let ve=Oe;var re,Ht;const Se=class Se{constructor(t,e){l(this,"opts");l(this,"parentMenu");l(this,"attachment");l(this,"onpointerdown",t=>{if(!this.opts.disabled.current){if(t.pointerType==="touch")return t.preventDefault();t.button===0&&t.ctrlKey===!1&&(this.parentMenu.toggleOpen(),this.parentMenu.opts.open.current||t.preventDefault())}});l(this,"onpointerup",t=>{this.opts.disabled.current||t.pointerType==="touch"&&(t.preventDefault(),this.parentMenu.toggleOpen())});l(this,"onkeydown",t=>{if(!this.opts.disabled.current){if(t.key===_e||t.key===Ue){this.parentMenu.toggleOpen(),t.preventDefault();return}t.key===Ye&&(this.parentMenu.onOpen(),t.preventDefault())}});b(this,re,D(()=>{if(this.parentMenu.opts.open.current&&this.parentMenu.contentId.current)return this.parentMenu.contentId.current}));b(this,Ht,D(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"aria-haspopup":"menu","aria-expanded":xr(this.parentMenu.opts.open.current),"aria-controls":o(i(this,re)),"data-disabled":He(this.opts.disabled.current),"data-state":We(this.parentMenu.opts.open.current),[this.parentMenu.root.getBitsAttr("trigger")]:"",onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown,...this.attachment})));this.opts=t,this.parentMenu=e,this.attachment=we(this.opts.ref,r=>this.parentMenu.triggerNode=r)}static create(t){return new Se(t,Pe.get())}get props(){return o(i(this,Ht))}set props(t){w(i(this,Ht),t)}};re=new WeakMap,Ht=new WeakMap;let me=Se;var hn=G("<div><!></div>");function fn(n,t){const e=ye();$(t,!0);let r=f(t,"ref",15,null),s=f(t,"id",19,()=>xe(e)),a=f(t,"disabled",3,!1),u=f(t,"onSelect",3,ht),p=f(t,"closeOnSelect",3,!0),c=yt(t,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","onSelect","closeOnSelect"]);const y=ve.create({id:M.with(()=>s()),disabled:M.with(()=>a()),onSelect:M.with(()=>u()),ref:M.with(()=>r(),h=>r(h)),closeOnSelect:M.with(()=>p())}),v=D(()=>pt(c,y.props));var I=F(),x=k(I);{var L=h=>{var m=F(),C=k(m);j(C,()=>t.child,()=>({props:o(v)})),d(h,m)},q=h=>{var m=hn();lt(m,()=>({...o(v)}));var C=P(m);j(C,()=>t.children??At),T(m),d(h,m)};Q(x,h=>{t.child?h(L):h(q,!1)})}d(n,I),tt()}function gn(n,t){$(t,!0);let e=f(t,"open",15,!1),r=f(t,"dir",3,"ltr"),s=f(t,"onOpenChange",3,ht),a=f(t,"onOpenChangeComplete",3,ht),u=f(t,"_internal_variant",3,"dropdown-menu");const p=he.create({variant:M.with(()=>u()),dir:M.with(()=>r()),onClose:()=>{e(!1),s()(!1)}});fe.create({open:M.with(()=>e(),c=>{e(c),s()(c)}),onOpenChangeComplete:M.with(()=>a())},p),qr(n,{children:(c,y)=>{var v=F(),I=k(v);j(I,()=>t.children??At),d(c,v)},$$slots:{default:!0}}),tt()}var vn=G("<div><div><!></div></div>"),mn=G("<div><div><!></div></div>");function bn(n,t){const e=ye();$(t,!0);let r=f(t,"id",19,()=>xe(e)),s=f(t,"ref",15,null),a=f(t,"loop",3,!0),u=f(t,"onInteractOutside",3,ht),p=f(t,"onEscapeKeydown",3,ht),c=f(t,"onCloseAutoFocus",3,ht),y=f(t,"forceMount",3,!1),v=f(t,"trapFocus",3,!1),I=yt(t,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onEscapeKeydown","onCloseAutoFocus","forceMount","trapFocus"]);const x=ge.create({id:M.with(()=>r()),loop:M.with(()=>a()),ref:M.with(()=>s(),_=>s(_)),onCloseAutoFocus:M.with(()=>c())}),L=D(()=>pt(I,x.props));function q(_){x.handleInteractOutside(_),!_.defaultPrevented&&(u()(_),!_.defaultPrevented&&x.parentMenu.onClose())}function h(_){p()(_),!_.defaultPrevented&&x.parentMenu.onClose()}var m=F(),C=k(m);{var et=_=>{Wr(_,mt(()=>o(L),()=>x.popperProps,{get ref(){return x.opts.ref},get enabled(){return x.parentMenu.opts.open.current},onInteractOutside:q,onEscapeKeydown:h,get trapFocus(){return v()},get loop(){return a()},forceMount:!0,get id(){return r()},popper:(wt,g)=>{let Yt=()=>g==null?void 0:g().props,xt=()=>g==null?void 0:g().wrapperProps;var K=F();const rt=D(()=>pt(Yt(),{style:Ge("dropdown-menu")}));var ut=k(K);{var V=O=>{var A=F(),R=k(A),S=Zt(()=>({props:o(rt),wrapperProps:xt(),...x.snippetProps}));j(R,()=>t.child,()=>o(S)),d(O,A)},ct=O=>{var A=vn();lt(A,()=>({...xt()}));var R=P(A);lt(R,()=>({...o(rt)}));var S=P(R);j(S,()=>t.children??At),T(R),T(A),d(O,A)};Q(ut,O=>{t.child?O(V):O(ct,!1)})}d(wt,K)},$$slots:{popper:!0}}))},U=(_,jt)=>{{var wt=g=>{Hr(g,mt(()=>o(L),()=>x.popperProps,{get ref(){return x.opts.ref},get open(){return x.parentMenu.opts.open.current},onInteractOutside:q,onEscapeKeydown:h,get trapFocus(){return v()},get loop(){return a()},forceMount:!1,get id(){return r()},popper:(xt,K)=>{let rt=()=>K==null?void 0:K().props,ut=()=>K==null?void 0:K().wrapperProps;var V=F();const ct=D(()=>pt(rt(),{style:Ge("dropdown-menu")}));var O=k(V);{var A=S=>{var E=F(),W=k(E),z=Zt(()=>({props:o(ct),wrapperProps:ut(),...x.snippetProps}));j(W,()=>t.child,()=>o(z)),d(S,E)},R=S=>{var E=mn();lt(E,()=>({...ut()}));var W=P(E);lt(W,()=>({...o(ct)}));var z=P(W);j(z,()=>t.children??At),T(W),T(E),d(S,E)};Q(O,S=>{t.child?S(A):S(R,!1)})}d(xt,V)},$$slots:{popper:!0}}))};Q(_,g=>{y()||g(wt)},jt)}};Q(C,_=>{y()?_(et):_(U,!1)})}d(n,m),tt()}var yn=G("<button><!></button>");function wn(n,t){const e=ye();$(t,!0);let r=f(t,"id",19,()=>xe(e)),s=f(t,"ref",15,null),a=f(t,"disabled",3,!1),u=f(t,"type",3,"button"),p=yt(t,["$$slots","$$events","$$legacy","id","ref","child","children","disabled","type"]);const c=me.create({id:M.with(()=>r()),disabled:M.with(()=>a()??!1),ref:M.with(()=>s(),v=>s(v))}),y=D(()=>pt(p,c.props,{type:u()}));jr(n,{get id(){return r()},get ref(){return c.opts.ref},children:(v,I)=>{var x=F(),L=k(x);{var q=m=>{var C=F(),et=k(C);j(et,()=>t.child,()=>({props:o(y)})),d(m,C)},h=m=>{var C=yn();lt(C,()=>({...o(y)}));var et=P(C);j(et,()=>t.children??At),T(C),d(m,C)};Q(L,m=>{t.child?m(q):m(h,!1)})}d(v,x)},$$slots:{default:!0}}),tt()}let Tt=Y(!1);const B=class B{constructor(){Le(()=>(B._refs===0&&(B._cleanup=cr(()=>{const t=[],e=s=>{w(Tt,!1)},r=s=>{w(Tt,!0)};return t.push(ft(document,"pointerdown",e,{capture:!0}),ft(document,"pointermove",e,{capture:!0}),ft(document,"keydown",r,{capture:!0})),qe(...t)})),B._refs++,()=>{var t;B._refs--,B._refs===0&&(w(Tt,!1),(t=B._cleanup)==null||t.call(B))}))}get current(){return o(Tt)}set current(t){w(Tt,t,!0)}};l(B,"_refs",0),l(B,"_cleanup");let be=B;function xn(n,t){$(t,!0);let e=f(t,"ref",15,null),r=f(t,"sideOffset",3,4),s=yt(t,["$$slots","$$events","$$legacy","ref","sideOffset","portalProps","class"]);var a=F(),u=k(a);te(u,()=>Gr,(p,c)=>{c(p,mt(()=>t.portalProps,{children:(y,v)=>{var I=F(),x=k(I);const L=D(()=>je("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 max-h-(--radix-dropdown-menu-content-available-height) origin-(--radix-dropdown-menu-content-transform-origin) z-50 min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border p-1 shadow-md",t.class));te(x,()=>bn,(q,h)=>{h(q,mt({"data-slot":"dropdown-menu-content",get sideOffset(){return r()},get class(){return o(L)}},()=>s,{get ref(){return e()},set ref(m){e(m)}}))}),d(y,I)},$$slots:{default:!0}}))}),d(n,a),tt()}function ce(n,t){$(t,!0);let e=f(t,"ref",15,null),r=f(t,"variant",3,"default"),s=yt(t,["$$slots","$$events","$$legacy","ref","class","inset","variant"]);var a=F(),u=k(a);const p=D(()=>je("data-highlighted:bg-accent data-highlighted:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:data-highlighted:bg-destructive/10 dark:data-[variant=destructive]:data-highlighted:bg-destructive/20 data-[variant=destructive]:data-highlighted:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",t.class));te(u,()=>fn,(c,y)=>{y(c,mt({"data-slot":"dropdown-menu-item",get"data-inset"(){return t.inset},get"data-variant"(){return r()},get class(){return o(p)}},()=>s,{get ref(){return e()},set ref(v){e(v)}}))}),d(n,a),tt()}function _n(n,t){$(t,!0);let e=f(t,"ref",15,null),r=yt(t,["$$slots","$$events","$$legacy","ref"]);var s=F(),a=k(s);te(a,()=>wn,(u,p)=>{p(u,mt({"data-slot":"dropdown-menu-trigger"},()=>r,{get ref(){return e()},set ref(c){e(c)}}))}),d(n,s),tt()}const Mn=gn;var Cn=G('<p class="text-center text-muted-foreground">Loading issues...</p>'),Pn=G('<div class="flex flex-col space-y-1"><!> <span class="text-xs text-muted-foreground"> </span></div>'),Tn=G("<!> <!> <!>",1),kn=G("<!> <!>",1),An=G('<p class="text-foreground leading-relaxed"> </p> <!> <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 text-xs text-muted-foreground"><div class="flex items-center gap-2"><span class="font-medium text-foreground">Status:</span> <span> </span> <!></div> <div><span class="font-medium text-foreground">Assignee:</span> <span class="ml-1 text-foreground"> </span></div></div> <div class="pt-2 text-right"><!></div>',1),On=G("<!> <!>",1),Sn=G('<p class="text-center text-muted-foreground">No issues submitted yet.</p>'),En=G('<div class="relative w-full"><div class="relative w-full h-48 sm:h-60 md:h-72 bg-gradient-to-br from-muted to-background flex items-center justify-center shadow-inner"><div class="absolute top-4 left-4 z-10"><!></div> <h1 class="text-2xl md:text-3xl font-bold text-white drop-shadow z-10">Reported Issues</h1></div> <div class="mt-8 max-w-3xl mx-auto px-4 space-y-6"><!></div></div>');function ss(n,t){$(t,!1);let e=f(t,"data",8),r=Re([]),s=Re(!0);ur(()=>{w(r,[{id:"issue-1",title:"Battery not holding charge",description:"The battery drains within 30 minutes of usage.",progress:"new",equipment_id:e().equipmentId,assignee_id:"tech-123",date_submitted:new Date().toISOString()},{id:"issue-2",title:"Loose wiring on control panel",description:"Exposed wires behind the panel may be a hazard.",progress:"in progress",equipment_id:e().equipmentId,assignee_id:"tech-456",date_submitted:new Date(Date.now()-864e5).toISOString()},{id:"issue-3",title:"Missing safety label",description:"The caution label has peeled off.",progress:"resolved",equipment_id:e().equipmentId,assignee_id:"tech-789",date_submitted:new Date(Date.now()-1728e5).toISOString()}]),w(s,!1)});function a(h){switch(h.toLowerCase()){case"new":return Qt({variant:"default"});case"in progress":return Qt({variant:"secondary"});case"resolved":return Qt({variant:"outline"});default:return Qt({variant:"outline"})}}function u(h,m){w(r,o(r).map(C=>C.id===h?{...C,progress:m}:C))}fr();var p=En(),c=P(p),y=P(c),v=P(y);ue(v,{variant:"ghost",size:"icon",class:"bg-black/50 text-white hover:bg-black/70",onclick:()=>Be(`/equipment?scanned=${e().equipmentId}`),children:(h,m)=>{Ur(h,{class:"w-5 h-5"})},$$slots:{default:!0}}),T(y),st(2),T(c);var I=N(c,2),x=P(I);{var L=h=>{var m=Cn();d(h,m)},q=(h,m)=>{{var C=U=>{var _=F(),jt=k(_);dr(jt,1,()=>o(r),lr,(wt,g)=>{gr(wt,{class:"border border-border bg-background rounded-xl shadow-sm hover:shadow-md transition",children:(Yt,xt)=>{var K=On(),rt=k(K);mr(rt,{class:"pb-2",children:(V,ct)=>{var O=Pn(),A=P(O);br(A,{class:"text-lg font-semibold",children:(E,W)=>{st();var z=dt();ie(()=>Pt(z,(o(g),ot(()=>o(g).title)))),d(E,z)},$$slots:{default:!0}});var R=N(A,2),S=P(R,!0);T(R),T(O),ie(E=>Pt(S,E),[()=>(o(g),ot(()=>new Date(o(g).date_submitted).toLocaleString()))],Zt),d(V,O)},$$slots:{default:!0}});var ut=N(rt,2);vr(ut,{class:"pt-0 space-y-4 text-sm",children:(V,ct)=>{var O=An(),A=k(O),R=P(A,!0);T(A);var S=N(A,2);yr(S,{});var E=N(S,2),W=P(E),z=N(P(W),2),Ze=P(z,!0);T(z);var $e=N(z,2);Mn($e,{children:(_t,rr)=>{var Ut=kn(),De=k(Ut);_n(De,{asChild:!0,children:(se,sr)=>{ue(se,{variant:"ghost",size:"xs",class:"px-2 text-xs",children:(Vt,oe)=>{st();var Xt=dt("Update");d(Vt,Xt)},$$slots:{default:!0}})},$$slots:{default:!0}});var nr=N(De,2);xn(nr,{class:"z-50",children:(se,sr)=>{var Vt=Tn(),oe=k(Vt);ce(oe,{onSelect:()=>u(o(g).id,"new"),children:(Mt,Ne)=>{st();var Ct=dt("Mark as New");d(Mt,Ct)},$$slots:{default:!0}});var Xt=N(oe,2);ce(Xt,{onSelect:()=>u(o(g).id,"in progress"),children:(Mt,Ne)=>{st();var Ct=dt("Mark as In Progress");d(Mt,Ct)},$$slots:{default:!0}});var or=N(Xt,2);ce(or,{onSelect:()=>u(o(g).id,"resolved"),children:(Mt,Ne)=>{st();var Ct=dt("Mark as Resolved");d(Mt,Ct)},$$slots:{default:!0}}),d(se,Vt)},$$slots:{default:!0}}),d(_t,Ut)},$$slots:{default:!0}}),T(W);var Ee=N(W,2),Fe=N(P(Ee),2),tr=P(Fe,!0);T(Fe),T(Ee),T(E);var Ie=N(E,2),er=P(Ie);ue(er,{variant:"secondary",size:"sm",class:"text-xs font-medium",onclick:()=>Be(`/issue/${o(g).id}`),children:(_t,rr)=>{st();var Ut=dt("Work on this issue");d(_t,Ut)},$$slots:{default:!0}}),T(Ie),ie(_t=>{Pt(R,(o(g),ot(()=>o(g).description))),hr(z,1,_t),Pt(Ze,(o(g),ot(()=>o(g).progress))),Pt(tr,(o(g),ot(()=>o(g).assignee_id)))},[()=>pr((o(g),ot(()=>a(o(g).progress))))],Zt),d(V,O)},$$slots:{default:!0}}),d(Yt,K)},$$slots:{default:!0}})}),d(U,_)},et=U=>{var _=Sn();d(U,_)};Q(h,U=>{o(r),ot(()=>o(r).length>0)?U(C):U(et,!1)},m)}};Q(x,h=>{o(s)?h(L):h(q,!1)})}T(I),T(p),d(n,p),tt()}export{ss as component};
